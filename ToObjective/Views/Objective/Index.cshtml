@model IEnumerable<Objective> // https://learn.microsoft.com/en-us/dotnet/api/system.collections.ienumerable?view=net-7.0 //
@{
    ViewData["Title"] = "Index";
}

    <div class="container">
        <div id="table-header">
        <!-- <a asp-area="" asp-controller="Objective" asp-action="addNew"> <button class="table-header-buttons" id="new-objective-button">New</button></a> -->
        <button class="table-header-buttons" id="new-objective-button" onclick="location.href='@Url.Action("addNew", "Objective")'">New</button> <!--https://www.youtube.com/watch?v=BnJ8UI-tI-E-->
        <button id="table-search-button">S</button>
        <input id="table-search-box" type="text" maxlength="40" placeholder="Search">
        </div>
        <div class="table-container">
            <table id="to-do-table">
                <thead>
                    <tr>
                        <th>Title</th> 
                        <th>Description</th>
                        <th>Complete By</th>
                        <th id="button-column"> Action </th>
                    </tr>
                </thead>
                <tbody id="to-do-table-tbody">
                  
                @foreach (var obj in Model.OrderBy(ojb => ojb.CompleteByDate).OrderBy(o => o.CompletedDate))
                    {
                    <tr class="@(obj.CompletedDate!=null ? "row-color" : "")">
                        <td>
                            @obj.Title
                        </td>
                        <td>
                            @obj.Description
                        </td>
                        <td>
                            @obj.CompleteByDate
                        </td>
                        @if (obj.CompletedDate != null)
                        {
                        <td>
                                <button class="complete-button" data-objective-id=@obj.Id disabled>✔</button>
                                <button class="delete-button" data-objective-id=@obj.Id>✖</button>
                                <button class="edit-button" data-objective-id=@obj.Id onclick="location.href='@Url.Action("edit", "Objective", new {id = obj.Id})'" disabled>✎</button>
                            
                        </td>
                        }
                        else
                        {
                        <td>
                                <button class="complete-button" data-objective-id=@obj.Id>✔</button>
                                <button class="delete-button" data-objective-id=@obj.Id>✖</button>
                                <button class="edit-button" id="edit-button-id" data-objective-id=@obj.Id onclick="location.href='@Url.Action("edit", "Objective", new {id = obj.Id})'">✎</button>
                            
                        </td>
                        }

                    </tr>
                    }
                
                </tbody>
            </table>
        </div>
    </div>

<script src="~/js/site.js" asp-append-version="true"></script>


